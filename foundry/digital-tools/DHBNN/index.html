<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Syst√®me d'aide √† la d√©cision clinique pour DHBNN">
    <meta name="theme-color" content="#2196F3">
    <title>DHBNN PWA - Enregistrement Patient</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="manifest" href="/manifest.json">
	<script defer src="https://cloud.umami.is/script.js" data-website-id="4c1f7e98-00c2-45f1-a71c-af051c51fc21"></script>
</head>
<body>
    <header>
        <h1>Enregistrement Patient</h1>
    </header>

    <main id="patient-registration-form">
        <!-- Section 1: Identit√© & G√©n√©ralit√©s -->
        <section id="demographics">
            <h2>Identit√© & G√©n√©ralit√©s</h2>
            
            <div class="form-group">
                <label for="input-nom">Nom</label>
                <input type="text" id="input-nom" name="nom" required>
            </div>
            
            <div class="form-group">
                <label for="input-prenom">Pr√©nom</label>
                <input type="text" id="input-prenom" name="prenom" required>
            </div>
			
			<div class="form-group">
				<label>Sexe</label>
				<div class="radio-group">
					<label><input type="radio" name="sexe" value="homme"> Homme</label>
					<label><input type="radio" name="sexe" value="femme"> Femme</label>
				</div>
			</div>
            
            <div class="form-group">
                <label for="input-age">√Çge</label>
                <input type="number" id="input-age" name="age" min="0" max="150" required>
            </div>
            
            <div class="form-group">
                <label for="input-poids">Poids (kg)</label>
                <input type="number" id="input-poids" name="poids" min="0" step="0.1" required>
            </div>
            
            <div class="form-group">
                <label for="input-taille">Taille (cm)</label>
                <input type="number" id="input-taille" name="taille" min="0" step="0.1" required>
            </div>
            
            <div class="form-group">
                <label for="input-profession">Profession</label>
                <input type="text" id="input-profession" name="profession">
            </div>
        </section>

        <!-- Section 2: Ant√©c√©dents & Facteurs de Risque -->
        <section id="medical-history">
            <h2>Ant√©c√©dents & Facteurs de Risque</h2>
            
            <div class="button-toggle-grid">
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-diabete" class="toggle-checkbox">
                    <label for="chk-diabete" class="toggle-label-button">Diab√®te</label>
                </div>
                
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-hta" class="toggle-checkbox">
                    <label for="chk-hta" class="toggle-label-button">HTA</label>
                </div>
                
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-insuffisance-cardiaque" class="toggle-checkbox">
                    <label for="chk-insuffisance-cardiaque" class="toggle-label-button">Insuffisance Cardiaque</label>
                </div>
                
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-insuffisance-renale" class="toggle-checkbox">
                    <label for="chk-insuffisance-renale" class="toggle-label-button">Insuffisance R√©nale</label>
                </div>
                
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-arteriopathie" class="toggle-checkbox">
                    <label for="chk-arteriopathie" class="toggle-label-button">Art√©riopathie</label>
                </div>
                
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-insuffisance-veineuse" class="toggle-checkbox">
                    <label for="chk-insuffisance-veineuse" class="toggle-label-button">Insuffisance Veineuse</label>
                </div>
                
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-insuffisance-lymphatique" class="toggle-checkbox">
                    <label for="chk-insuffisance-lymphatique" class="toggle-label-button">Insuffisance Lymphatique</label>
                </div>
                
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-immunodepression" class="toggle-checkbox">
                    <label for="chk-immunodepression" class="toggle-label-button">Immunod√©pression</label>
                </div>
                
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-chirurgie-recente" class="toggle-checkbox">
                    <label for="chk-chirurgie-recente" class="toggle-label-button">Intervention Chirurgicale R√©cente</label>
                </div>
                
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-hospitalisation-recente" class="toggle-checkbox">
                    <label for="chk-hospitalisation-recente" class="toggle-label-button">Hospitalisation R√©cente</label>
                </div>
                
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-anti-inflammatoire" class="toggle-checkbox">
                    <label for="chk-anti-inflammatoire" class="toggle-label-button">Traitement Anti-Inflammatoire</label>
                </div>
                
                <div class="button-toggle-container">
                    <input type="checkbox" id="chk-atb-actuel" class="toggle-checkbox">
                    <label for="chk-atb-actuel" class="toggle-label-button">Traitement Antibiotique Actuel</label>
                </div>
            </div>
            
            <div id="current-atb-details" class="conditional-details" style="display: none;">
                <div class="form-group">
                    <label for="input-atb-type">Type d'Antibiotique</label>
                    <input type="text" id="input-atb-type" name="atb-type">
                </div>
                
                <div class="form-group">
                    <label for="input-atb-duration">Dur√©e (jours)</label>
                    <input type="number" id="input-atb-duration" name="atb-duration" min="0" step="1">
                </div>
            </div>
            
            <div class="form-group">
                <label for="input-recidive-number">Nombre de R√©cidives</label>
                <input type="number" id="input-recidive-number" name="recidive-number" value="0" min="0" step="1">
            </div>
        </section>

        <!-- Section 3: Pr√©sentation Actuelle -->
        <section id="current-presentation">
            <h2>Pr√©sentation Actuelle</h2>
            
            <div class="subsection">
                <h3>Localisation de la Dermo-Hypodermite</h3>
					<div id="body-diagram-container">
					    <!-- === FRONT VIEW Hotspots === -->
					    
					    <!-- Head & Neck (Front) -->
					    <div id="loc-face-front" class="body-hotspot" data-region="Visage (Face)"></div>
					    <div id="loc-neck-front" class="body-hotspot" data-region="Cou (Face)"></div>
					    
					    <!-- Torso (Front) -->
					    <div id="loc-chest" class="body-hotspot" data-region="Torse"></div>
					    <div id="loc-abdomen" class="body-hotspot" data-region="Abdomen"></div>
					    <div id="loc-groin-front" class="body-hotspot" data-region="R√©gion Inguinale (Face)"></div>
					
					    <!-- Arms (Front) -->
					    <div id="loc-arm-left-front" class="body-hotspot" data-region="Bras Gauche (Face)"></div>
					    <div id="loc-arm-right-front" class="body-hotspot" data-region="Bras Droit (Face)"></div>
					    <div id="loc-hand-left-front" class="body-hotspot" data-region="Main Gauche (Face)"></div>
					    <div id="loc-hand-right-front" class="body-hotspot" data-region="Main Droite (Face)"></div>
					
					    <!-- Legs (Front) -->
					    <div id="loc-leg-left-front" class="body-hotspot" data-region="Jambe Gauche (Face)"></div>
					    <div id="loc-leg-right-front" class="body-hotspot" data-region="Jambe Droite (Face)"></div>
					    <div id="loc-foot-left-front" class="body-hotspot" data-region="Pied Gauche (Face)"></div>
					    <div id="loc-foot-right-front" class="body-hotspot" data-region="Pied Droit (Face)"></div>
					    <div id="loc-toes-left" class="body-hotspot" data-region="Intertrigo Orteils Gauche"></div>
					    <div id="loc-toes-right" class="body-hotspot" data-region="Intertrigo Orteils Droit"></div>
					
					
					    <!-- === BACK VIEW Hotspots === -->
					
					    <!-- Head & Neck (Back) -->
					    <div id="loc-head-back" class="body-hotspot" data-region="T√™te (Dos)"></div>
					    <div id="loc-neck-back" class="body-hotspot" data-region="Nuque"></div>
					
					    <!-- Torso (Back) -->
					    <div id="loc-back-upper" class="body-hotspot" data-region="Haut du Dos"></div>
					    <div id="loc-back-lower" class="body-hotspot" data-region="Bas du Dos"></div>
					    <div id="loc-buttocks" class="body-hotspot" data-region="Fesses"></div>
					    
					    <!-- Arms (Back) -->
					    <div id="loc-arm-left-back" class="body-hotspot" data-region="Bras Gauche (Dos)"></div>
					    <div id="loc-arm-right-back" class="body-hotspot" data-region="Bras Droit (Dos)"></div>
					
					    <!-- Legs (Back) -->
					    <div id="loc-leg-left-back" class="body-hotspot" data-region="Jambe Gauche (Dos)"></div>
					    <div id="loc-leg-right-back" class="body-hotspot" data-region="Jambe Droite (Dos)"></div>
					</div>
                
                <div class="form-group">
                    <label for="localization-notes">Notes sur la localisation</label>
                    <textarea id="localization-notes" name="localization-notes" rows="3" placeholder="Notes sur la localisation (ex: bilat√©rale, circonf√©rentielle)..."></textarea>
                </div>
				<h3>Photo Initiale de la L√©sion (J0)</h3>
				<div class="photo-upload-controls" style="margin-bottom: 20px;">
					<div class="upload-area">
						<label for="initial-lesion-photo-input" class="upload-label">
							<div class="upload-icon">üì∑</div>
							<div class="upload-text">
								<strong>Prendre ou Choisir une Photo</strong>
							</div>
						</label>
						<input type="file" id="initial-lesion-photo-input" accept="image/*" class="photo-input" capture="environment">
					</div>
					<div id="initial-photo-preview" class="lesion-photo-preview" style="display: none;">
						 <img id="lesion-preview-image" src="" alt="Aper√ßu de la photo">
						 <button type="button" id="remove-lesion-photo-btn">√ó</button>
					</div>
				</div>
            </div>
            
            <div class="subsection">
                <h3>Porte d'Entr√©e</h3>
                <div class="button-toggle-grid">
                    <div class="button-toggle-container">
                        <input type="checkbox" id="chk-entry-intertrigo" class="toggle-checkbox">
                        <label for="chk-entry-intertrigo" class="toggle-label-button">Intertrigo</label>
                    </div>
                    
                    <div class="button-toggle-container">
                        <input type="checkbox" id="chk-entry-plaie" class="toggle-checkbox">
                        <label for="chk-entry-plaie" class="toggle-label-button">Plaie</label>
                    </div>
                    
                    <div class="button-toggle-container">
                        <input type="checkbox" id="chk-entry-piqure" class="toggle-checkbox">
                        <label for="chk-entry-piqure" class="toggle-label-button">Piq√ªre d'Insecte</label>
                    </div>
                    
                    <div class="button-toggle-container">
                        <input type="checkbox" id="chk-entry-morsure" class="toggle-checkbox">
                        <label for="chk-entry-morsure" class="toggle-label-button">Morsure ou Griffure</label>
                    </div>
                    
                    <div class="button-toggle-container">
                        <input type="checkbox" id="chk-entry-inoculation" class="toggle-checkbox">
                        <label for="chk-entry-inoculation" class="toggle-label-button">Inoculation Aquatique</label>
                    </div>
                    
                    <div class="button-toggle-container">
                        <input type="checkbox" id="chk-entry-autre" class="toggle-checkbox">
                        <label for="chk-entry-autre" class="toggle-label-button">Autre</label>
                    </div>
                </div>
                
                <div id="inoculation-water-details" class="conditional-details" style="display: none;">
                    <div class="form-group">
                        <label>Type d'Eau</label>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="water-type" value="douce" id="radio-eau-douce">
                                Eau Douce
                            </label>
                            <label>
                                <input type="radio" name="water-type" value="mer" id="radio-eau-mer">
                                Eau de Mer
                            </label>
                        </div>
                    </div>
                </div>
                
                <div id="entry-other-details" class="conditional-details" style="display: none;">
                    <div class="form-group">
                        <label for="input-entry-other-details">Pr√©ciser</label>
                        <input type="text" id="input-entry-other-details" name="entry-other-details" placeholder="Pr√©cisez la porte d'entr√©e...">
                    </div>
                </div>
            </div>
            
            <div class="subsection">
                <h3>Sympt√¥mes Associ√©s</h3>
                <div class="button-toggle-grid">
                    <div class="button-toggle-container">
                        <input type="checkbox" id="chk-fievre" class="toggle-checkbox">
                        <label for="chk-fievre" class="toggle-label-button">Fi√®vre</label>
                    </div>
                    
                    <div class="button-toggle-container">
                        <input type="checkbox" id="chk-adenopathie" class="toggle-checkbox">
                        <label for="chk-adenopathie" class="toggle-label-button">Ad√©nopathie</label>
                    </div>
                </div>
            </div>
        </section>

        <!-- Action Buttons -->
        <div class="form-actions">
            <button type="button" id="save-patient-btn" class="btn btn-secondary">Enregistrer Patient</button>
            <button type="button" id="continue-assessment-btn" class="btn btn-primary">Poursuivre l'√âvaluation</button>
        </div>
    </main>

    <script src="main.js" type="module"></script>
	
	<!-- Persistent Navigation Tab Bar -->
<nav class="nav-bar">
    <ul class="nav-list">
        <li class="nav-item">
            <a href="/patient-list.html" class="nav-link">
                <span class="nav-icon">üë•</span>
                <span class="nav-label">Patients</span>
            </a>
        </li>
        <li class="nav-item">
            <button type="button" id="language-toggle-btn" class="nav-link">
                <span class="nav-icon">üåê</span>
                <span class="nav-label" id="language-label">EN</span>
            </button>
        </li>
        <li class="nav-item">
            <a href="/stats.html" class="nav-link">
                <span class="nav-icon">üìä</span>
                <span class="nav-label">Stats</span>
            </a>
        </li>
    </ul>
</nav>
</body>

</html>


