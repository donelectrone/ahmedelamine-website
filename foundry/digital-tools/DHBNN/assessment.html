<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="√âvaluation clinique pour DHBNN - Signes de gravit√© et crit√®res d'hospitalisation">
    <meta name="theme-color" content="#0066CC">
    <title>DHBNN PWA - √âvaluation Patient</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
	<script defer src="https://cloud.umami.is/script.js" data-website-id="4c1f7e98-00c2-45f1-a71c-af051c51fc21"></script>
</head>
<body>
    <header>
        <h1>‚öï √âvaluation de la Dermohypodermite</h1>
    </header>

    <main id="assessment-container">
        <!-- Patient Information Display -->
        <div class="patient-id-display">
            <div class="patient-info-card">
                <span class="patient-label">Patient:</span>
                <span id="patient-name-display" class="patient-name">Chargement...</span>
                <span id="patient-details-display" class="patient-details"></span>
            </div>
        </div>

        <!-- Section 1: Severity Assessment -->
        <section id="severity-assessment">
            <h2>1. √âvaluation des Signes de Gravit√©</h2>
            
            <p class="section-description">
                Appuyez sur les signes de gravit√© pr√©sents chez le patient :
            </p>

            <div class="assessment-grid">
                <!-- Sepsis -->
                <div class="assessment-card">
                    <input type="checkbox" id="chk-sepsis" class="severity-checkbox assessment-input">
                    <label for="chk-sepsis" class="assessment-label">
                        <div class="assessment-icon severity-icon">‚ö†</div>
                        <div class="assessment-content">
                            <div class="assessment-title">Signes de Sepsis</div>
                            <div class="assessment-description">
                                Score qSOFA ‚â•2 ou choc toxinique
                            </div>
                        </div>
                        <div class="assessment-check">‚úì</div>
                    </label>
                </div>

                <!-- Intense Pain -->
                <div class="assessment-card">
                    <input type="checkbox" id="chk-intense-pain" class="severity-checkbox assessment-input">
                    <label for="chk-intense-pain" class="assessment-label">
                        <div class="assessment-icon severity-icon">‚ö†</div>
                        <div class="assessment-content">
                            <div class="assessment-title">Douleur Intense</div>
                            <div class="assessment-description">
                                Pouvant traduire une fasciite n√©crosante
                            </div>
                        </div>
                        <div class="assessment-check">‚úì</div>
                    </label>
                </div>

                <!-- Local Severity -->
                <div class="assessment-card">
                    <input type="checkbox" id="chk-local-severity" class="severity-checkbox assessment-input">
                    <label for="chk-local-severity" class="assessment-label">
                        <div class="assessment-icon severity-icon">‚ö†</div>
                        <div class="assessment-content">
                            <div class="assessment-title">Signes Locaux</div>
                            <div class="assessment-description">
                                Lividit√©s, taches cyaniques, cr√©pitation, hypoesth√©sie
                            </div>
                        </div>
                        <div class="assessment-check">‚úì</div>
                    </label>
                </div>

                <!-- Rapid Extension -->
                <div class="assessment-card">
                    <input type="checkbox" id="chk-rapid-extension" class="severity-checkbox assessment-input">
                    <label for="chk-rapid-extension" class="assessment-label">
                        <div class="assessment-icon severity-icon">‚ö†</div>
                        <div class="assessment-content">
                            <div class="assessment-title">Extension Rapide</div>
                            <div class="assessment-description">
                                Malgr√© antibioth√©rapie adapt√©e 24-48h
                            </div>
                        </div>
                        <div class="assessment-check">‚úì</div>
                    </label>
                </div>
            </div>

            <!-- Severity Outcome Display -->
            <div id="severity-outcome" class="outcome-display">
                <!-- Will be populated by JavaScript -->
            </div>
        </section>

        <!-- Section 2: Hospitalization Criteria -->
        <section id="hospitalization-criteria">
            <h2>2. Recherche des Crit√®res d'Hospitalisation</h2>
            
            <p class="section-description">
                Appuyez sur tous les crit√®res d'hospitalisation pr√©sents :
            </p>

            <div class="assessment-grid">
                <!-- Comorbidity -->
                <div class="assessment-card">
                    <input type="checkbox" id="chk-comorbidity" class="hospitalization-checkbox assessment-input">
                    <label for="chk-comorbidity" class="assessment-label">
                        <div class="assessment-icon hospital-icon">üè•</div>
                        <div class="assessment-content">
                            <div class="assessment-title">Comorbidit√©</div>
                            <div class="assessment-description">
                                Diab√®te, ob√©sit√©, immunod√©pression, insuffisances
                            </div>
                        </div>
                        <div class="assessment-check">‚úì</div>
                    </label>
                </div>

                <!-- Morbid Obesity -->
                <div class="assessment-card">
                    <input type="checkbox" id="chk-morbid-obesity" class="hospitalization-checkbox assessment-input">
                    <label for="chk-morbid-obesity" class="assessment-label">
                        <div class="assessment-icon hospital-icon">üè•</div>
                        <div class="assessment-content">
                            <div class="assessment-title">Ob√©sit√© Morbide</div>
                            <div class="assessment-description">
                                IMC ‚â•40 kg/m¬≤
                            </div>
                        </div>
                        <div class="assessment-check">‚úì</div>
                    </label>
                </div>

                <!-- Long-term Medications -->
                <div class="assessment-card">
                    <input type="checkbox" id="chk-long-term-meds" class="hospitalization-checkbox assessment-input">
                    <label for="chk-long-term-meds" class="assessment-label">
                        <div class="assessment-icon hospital-icon">üè•</div>
                        <div class="assessment-content">
                            <div class="assessment-title">Traitement Long Cours</div>
                            <div class="assessment-description">
                                AINS ou corticoth√©rapie
                            </div>
                        </div>
                        <div class="assessment-check">‚úì</div>
                    </label>
                </div>

                <!-- Social Context -->
                <div class="assessment-card">
                    <input type="checkbox" id="chk-social-context" class="hospitalization-checkbox assessment-input">
                    <label for="chk-social-context" class="assessment-label">
                        <div class="assessment-icon hospital-icon">üè•</div>
                        <div class="assessment-content">
                            <div class="assessment-title">Contexte Social</div>
                            <div class="assessment-description">
                                D√©favorable √† la prise en charge ambulatoire
                            </div>
                        </div>
                        <div class="assessment-check">‚úì</div>
                    </label>
                </div>

                <!-- Diagnostic Doubt -->
                <div class="assessment-card">
                    <input type="checkbox" id="chk-diagnostic-doubt" class="hospitalization-checkbox assessment-input">
                    <label for="chk-diagnostic-doubt" class="assessment-label">
                        <div class="assessment-icon hospital-icon">üè•</div>
                        <div class="assessment-content">
                            <div class="assessment-title">Doute Diagnostic</div>
                            <div class="assessment-description">
                                Fasciite n√©crosante, autre diagnostic
                            </div>
                        </div>
                        <div class="assessment-check">‚úì</div>
                    </label>
                </div>
            </div>
        </section>

        <!-- Section 3: Treatment Recommendation -->
        <section id="recommendation-section">
            <h2>Recommandation de Traitement</h2>

            <div id="treatment-recommendation" class="treatment-display">
                <div class="recommendation-placeholder">
                    <div class="placeholder-icon">‚ÑπÔ∏è</div>
                    <p>
                        Compl√©tez l'√©valuation des signes de gravit√© et des crit√®res d'hospitalisation 
                        pour obtenir une recommandation de traitement personnalis√©e.
                    </p>
                </div>
            </div>
        </section>

        <!-- Action Buttons -->
        <div class="form-actions">
            <button type="button" id="back-to-patient-list-btn" class="btn btn-secondary">
                ‚Üê Retour √† la Liste
            </button>
            <button type="button" id="confirm-treatment-btn" class="btn btn-primary">
                Confirmer & Programmer Suivi 48h
            </button>
        </div>
    </main>

    <!-- Loading Overlay (hidden by default) -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Chargement des donn√©es du patient...</p>
    </div>

    <script src="main.js" type="module"></script>
	
	<!-- Persistent Navigation Tab Bar -->
<nav class="nav-bar">
    <ul class="nav-list">
        <li class="nav-item">
            <a href="patient-list.html" class="nav-link">
                <span class="nav-icon">üë•</span>
                <span class="nav-label">Patients</span>
            </a>
        </li>
        <li class="nav-item">
            <button type="button" id="language-toggle-btn" class="nav-link">
                <span class="nav-icon">üåê</span>
                <span class="nav-label" id="language-label">EN</span>
            </button>
        </li>
        <li class="nav-item">
            <a href="stats.html" class="nav-link">
                <span class="nav-icon">üìä</span>
                <span class="nav-label">Stats</span>
            </a>
        </li>
    </ul>
</nav>
</body>

</html>
